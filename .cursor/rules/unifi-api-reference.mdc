---
description: UniFi API reference - local controller and remote Site Manager APIs
alwaysApply: true
---

# UniFi API Reference

This library uses **two different UniFi APIs**:

## Local UniFi Controller API (Primary)

**Base URL**: Your controller URL (e.g., `https://192.168.1.1:8443`)

**Authentication**:
- Cookie-based: POST to `/api/login` with `{"username":"...","password":"..."}` (standard controllers)
- UDM Pro/UCG Max: `/api/auth/login` endpoint
- Session cookie returned and reused for subsequent requests
- Alternative: API key via `X-API-Key` header (newer controllers)

**Endpoint pattern**: `/api/s/{site}/...` where `{site}` is typically `"default"`

**UDM Pro difference**: All endpoints must be prefixed with `/proxy/network` (e.g., `/proxy/network/api/s/default/stat/device`)

**Response format**: `{"data": [...], "meta": {"rc": "ok"}}`. Errors: `{"data": [], "meta": {"msg": "api.err.LoginRequired", "rc": "error"}}`. Large datasets may include `"meta": {"count": 4818, "rc": "ok"}` when truncated.

**Key endpoints** (see `types.go` constants):
- `/api/s/{site}/stat/device` - Devices (UAPs, USWs, USGs, UDMs, UXGs, PDUs, UBBs, UCIs)
- `/api/s/{site}/stat/sta` - Active clients
- `/api/s/{site}/stat/event` - Events (3000 limit)
- `/api/s/{site}/list/alarm` - Alarms
- `/api/s/{site}/stat/stadpi` - Client DPI stats
- `/api/s/{site}/stat/sitedpi` - Site DPI stats
- `/api/s/{site}/stat/anomalies` - Anomalies
- `/api/stat/sites` - List all sites
- `/v2/api/site/{site}/system-log/all` - System logs (v2)
- `/v2/api/site/{site}/traffic?...` - Traffic stats (v2)

**Additional endpoints** (may vary by controller version):
- `/api/s/{site}/rest/networkconf` - Network configurations (WAN, LAN, VPN, etc.)
- `/api/s/{site}/rest/setting` - Site settings
- `/api/s/{site}/rest/portforward` - Port forwarding rules
- `/api/s/{site}/rest/firewall-policies` - Firewall policies (zone-based)
- `/api/s/{site}/rest/firewall-app-blocks` - Application blocking rules
- `/api/s/{site}/rest/users_groups` - User groups
- `/api/s/{site}/rest/wlanconf` - WLAN configurations
- `/api/s/{site}/stat/sysinfo` - System information
- `/api/s/{site}/stat/status` - WAN interface status
- `/api/s/{site}/stat/active` - Active connections/certificates
- `/api/s/{site}/stat/ups-devices` - UPS devices
- `/api/s/{site}/stat/poe-switch-devices` - PoE switch devices
- `/api/s/{site}/stat/trafficroutes` - Traffic routing rules
- `/api/s/{site}/stat/static-dns` - Static DNS entries
- `/api/s/{site}/stat/mdns` - mDNS configuration
- `/api/s/{site}/stat/stacking` - Switch stacking configuration
- `/api/s/{site}/stat/mclag-groups` - Multi-Chassis Link Aggregation groups
- `/api/s/{site}/stat/device-tags` - Device tags
- `/api/s/{site}/stat/zone` - Firewall zones
- `/api/s/{site}/stat/zone-matrix` - Zone connectivity matrix
- `/api/s/{site}/stat/wan-slas` - WAN SLA configuration
- `/api/s/{site}/stat/content-filtering` - Content filtering settings
- `/api/s/{site}/stat/acl-rules` - ACL rules
- `/api/s/{site}/stat/integrations` - Third-party integrations
- `/api/s/{site}/stat/profiles` - Network profiles
- `/api/s/{site}/stat/networkgroups` - Network groups
- `/api/s/{site}/stat/object-oriented-network-configs` - OONC configurations
- `/api/s/{site}/stat/sdn` - SDN (Software Defined Network) status
- `/api/s/{site}/stat/subscription` - Subscription information
- `/api/s/{site}/stat/info` - General site information
- `/api/s/{site}/stat/general-info` - General information
- `/api/s/{site}/stat/configuration` - Site configuration
- `/api/s/{site}/stat/enriched-configuration` - Enriched configuration data
- `/api/s/{site}/stat/configs` - Configuration objects
- `/api/s/{site}/stat/defaults` - Default settings
- `/api/s/{site}/stat/advanced-filtering-defaults` - Advanced filtering defaults
- `/api/s/{site}/stat/available-categories` - Available DPI categories
- `/api/s/{site}/stat/available-server-names` - Available server names
- `/api/s/{site}/stat/availableIntegrations` - Available integrations
- `/api/s/{site}/stat/categories` - DPI categories
- `/api/s/{site}/stat/connections` - Connection information
- `/api/s/{site}/stat/current-channel` - Current RF channels
- `/api/s/{site}/stat/described-features` - Feature descriptions
- `/api/s/{site}/stat/invitation-history` - Invitation history
- `/api/s/{site}/stat/site-feature-migration` - Feature migration status
- `/api/s/{site}/stat/vendor-ids` - Vendor IDs
- `/api/s/{site}/stat/wlan-capabilities` - WLAN capabilities
- `/api/s/{site}/stat/network-members-groups` - Network member groups
- `/api/status` - Controller status (no auth required)
- `/api/self` - Current user info
- `/api/self/sites` - User's sites

**References**: [Ubiquiti Community Wiki](https://ubntwiki.com/products/software/unifi-controller/api)

## Remote Site Manager API (Cloud)

**Base URL**: `https://api.ui.com/v1/`

**Authentication**: API key in `X-API-Key` header. Obtain from unifi.ui.com → Settings → API Keys (EA) or API section (GA). Currently **read-only**.

**Rate limits**:
- Early Access (EA): 100 requests/minute
- v1 stable: 10,000 requests/minute
- Exceeding returns `429 Too Many Requests` with `Retry-After` header

**Key endpoints**:
- `GET /v1/hosts` - List consoles/hosts
- `GET /v1/hosts/{id}` - Get host by ID
- `GET /v1/sites` - List sites (via console)

**Implementation**: See `remote.go` (`RemoteAPIClient`). Used for discovering consoles and sites managed via UniFi Site Manager (cloud).

**References**: [UniFi Developer Docs](https://developer.ui.com/site-manager/v1.0.0/gettingstarted)
